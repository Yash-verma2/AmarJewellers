<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Primary SEO Meta Tags -->
    <title>Amar Jewellers Siwan | Handcrafted Gold, Diamond & Bridal Jewellery | Bihar's Premium Jeweller</title>
    <meta name="description"
        content="Discover exquisite handcrafted gold, diamond, and bridal jewellery at Amar Jewellers, Siwan, Bihar. Trusted for generations with certified hallmarked gold, ethically sourced diamonds, and master craftsmanship. Visit us at Sonar Toli for timeless luxury." />
    <meta name="keywords"
        content="Amar Jewellers, jewellery Siwan, gold jewellery Bihar, diamond jewellery, bridal jewellery, wedding jewellery, hallmarked gold, kundan sets, temple jewellery, silver jewellery, jeweller Siwan Bihar, Sonar Toli jewellers, luxury jewellery India" />
    <meta name="author" content="Amar Jewellers" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <link rel="canonical" href="https://amarjewellers.vercel.app/" />

    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="eEB9lOLrHs36i2xtpJBbrpUF5oyrCvdGbeSV212b3yQ" />

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://amarjewellers.vercel.app/" />
    <meta property="og:title" content="Amar Jewellers Siwan | Handcrafted Gold, Diamond & Bridal Jewellery" />
    <meta property="og:description"
        content="Discover exquisite handcrafted gold, diamond, and bridal jewellery at Amar Jewellers, Siwan, Bihar. Trusted for generations with certified hallmarked gold." />
    <meta property="og:image" content="https://amarjewellers.vercel.app/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_IN" />
    <meta property="og:site_name" content="Amar Jewellers" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://amarjewellers.vercel.app/" />
    <meta name="twitter:title" content="Amar Jewellers Siwan | Handcrafted Gold, Diamond & Bridal Jewellery" />
    <meta name="twitter:description"
        content="Discover exquisite handcrafted gold, diamond, and bridal jewellery at Amar Jewellers, Siwan, Bihar." />
    <meta name="twitter:image" content="https://amarjewellers.vercel.app/og-image.jpg" />

    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="IN-BR" />
    <meta name="geo.placename" content="Siwan" />
    <meta name="geo.position" content="26.2190221;84.357408" />
    <meta name="ICBM" content="26.2190221, 84.357408" />

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8GKLF9KWCW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-8GKLF9KWCW', {
            'send_page_view': true,
            'cookie_flags': 'SameSite=None;Secure'
        });
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d4af37">


    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --bg: #050505;
            --gold: #d4af37;
            --gold-light: #f1d78a;
            --gold-dark: #b69121;
            /* Gradient Text */
            --gold-gradient: linear-gradient(135deg, #f1d78a 0%, #d4af37 50%, #b69121 100%);
            --gold-faded: rgba(212, 175, 55, 0.1);
            --muted: #a0a0a0;
            --card-bg: #0f0f0f;
            --glass-bg: rgba(20, 20, 20, 0.7);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #f0f0f0;
            --text-muted: #a0a0a0;
        }

        [data-theme="light"] {
            --bg: #f9f5f0;
            /* Creamy white */
            --gold: #b8860b;
            /* Darker gold for better contrast on light */
            --gold-light: #e6c200;
            --gold-dark: #8a6508;
            --gold-gradient: linear-gradient(135deg, #e6c200 0%, #b8860b 50%, #8a6508 100%);
            --gold-faded: rgba(184, 134, 11, 0.1);
            --muted: #666666;
            --card-bg: #ffffff;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(184, 134, 11, 0.15);
            --text-main: #1a1a1a;
            --text-muted: #555555;
        }

        body {
            background: var(--bg);
            color: var(--text-main);
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            transition: background 0.5s ease, color 0.5s ease;
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Cormorant Garamond', serif;
            letter-spacing: 0.02em;
            font-weight: 700;
        }

        .gold {
            color: var(--gold);
        }

        .text-gradient-gold {
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        .btn-gold {
            background: var(--gold-gradient);
            color: #000;
            padding: 0.85rem 2.5rem;
            border-radius: 999px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: inline-block;
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn-gold::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.2);
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s ease;
        }

        .btn-gold:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }

        .btn-gold:hover::before {
            opacity: 1;
        }

        .btn-secondary {
            color: var(--muted);
            padding: 0.75rem 1.75rem;
            transition: color 0.3s ease;
        }

        .btn-secondary:hover {
            color: var(--gold);
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            overflow: hidden;
            position: relative;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            background: #161616;
            border-color: rgba(212, 175, 55, 0.2);
        }

        .jewel-img {
            width: 100%;
            height: 280px;
            object-fit: cover;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .card:hover .jewel-img {
            transform: scale(1.03);
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .fade-in.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Glass Navbar */
        header {
            transition: background 0.4s ease, backdrop-filter 0.4s ease, padding 0.4s ease;
        }

        header.scrolled {
            background: rgba(5, 5, 5, 0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--glass-border);
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        nav a {
            position: relative;
            color: #e0e0e0;
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            width: 0;
            height: 1px;
            background-color: var(--gold);
            transition: width 0.3s ease, left 0.3s ease;
        }

        nav a:hover::after,
        nav a.active::after {
            width: 100%;
            left: 0;
        }

        nav a.active {
            color: var(--gold);
        }

        footer {
            color: var(--muted);
            font-size: 0.9rem;
        }

        .form-input {
            background-color: var(--card-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            color: var(--text-main);
            padding: 0.75rem;
            width: 100%;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
        }

        .modal-overlay,
        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.visible,
        .lightbox-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2.5rem;
            width: 90%;
            max-width: 800px;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: pageFadeIn 0.5s ease-out;
        }

        @keyframes pageFadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }

        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid var(--gold);
            border-radius: 50%;
            display: inline-block;
            position: relative;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }

        .loader::after {
            content: '';
            box-sizing: border-box;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid;
            border-color: var(--bg) transparent;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--gold);
            color: var(--bg);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #back-to-top:hover {
            transform: scale(1.1);
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--gold-faded);
            color: var(--muted);
            padding: 0.5rem 1rem;
            border-radius: 999px;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--gold);
            color: var(--bg);
            border-color: var(--gold);
        }

        .lightbox-content {
            max-width: 90vw;
            max-height: 90vh;
        }

        .lightbox-content img {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            border-radius: 12px;
        }

        #hero-video-bg {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            z-index: -1;
            opacity: 0.3;
        }

        .category-card h3 {
            transition: transform 0.4s ease;
        }

        .category-card:hover h3 {
            transform: scale(1.1);
        }

        @media(min-width:768px) {
            .jewel-img {
                height: 300px
            }
        }

        /* Instagram Reels Styles */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .reel-item {
            position: relative;
            width: 100%;
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .reel-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .reel-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3) 0%, transparent 30%, transparent 70%, rgba(0, 0, 0, 0.5) 100%);
            z-index: 1;
        }

        .reel-content {
            position: absolute;
            bottom: 80px;
            left: 20px;
            right: 80px;
            z-index: 2;
            color: white;
        }

        .reel-actions {
            position: absolute;
            right: 15px;
            bottom: 120px;
            z-index: 2;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .reel-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .reel-action-btn:active {
            transform: scale(0.9);
        }

        .reel-action-icon {
            width: 32px;
            height: 32px;
            color: white;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .reel-action-text {
            font-size: 12px;
            color: white;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .reel-header {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            z-index: 2;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .reel-logo {
            font-size: 24px;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            font-family: 'Cormorant Garamond', serif;
        }

        .reel-nav-icon {
            width: 28px;
            height: 28px;
            color: white;
            cursor: pointer;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .reel-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        .reel-description {
            font-size: 14px;
            opacity: 0.95;
            line-height: 1.4;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
        }

        .liked {
            color: #ff3b5c !important;
        }

        .double-tap-heart {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 10;
            color: white;
            opacity: 0;
            animation: heartPop 0.8s ease-out;
            pointer-events: none;
        }

        @keyframes heartPop {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0;
            }
        }

        /* Video Player Styles */
        .reel-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .video-controls {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .reel-item:hover .video-controls,
        .video-controls.visible {
            opacity: 1;
        }

        .play-pause-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .play-pause-btn:active {
            transform: scale(0.9);
        }

        .play-pause-icon {
            width: 30px;
            height: 30px;
            color: white;
        }

        .video-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            z-index: 3;
        }

        .video-progress-bar {
            height: 100%;
            background: white;
            width: 0%;
            transition: width 0.1s linear;
        }

        .mute-btn {
            position: absolute;
            top: 60px;
            right: 15px;
            z-index: 2;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .mute-icon {
            width: 20px;
            height: 20px;
            color: white;
        }

        /* Engagement Counters */
        .engagement-count {
            font-size: 13px;
            font-weight: 700;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .like-icon.filled {
            fill: #ff3b5c;
        }

        /* Comment Modal */
        .comment-modal {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-radius: 20px 20px 0 0;
            z-index: 1001;
            max-height: 70vh;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
        }

        .comment-modal.visible {
            transform: translateY(0);
        }

        .comment-modal-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comment-modal-body {
            padding: 20px;
            max-height: 50vh;
            overflow-y: auto;
        }

        .comment-item {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .comment-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: black;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .comment-content {
            flex: 1;
        }

        .comment-author {
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 4px;
        }

        .comment-text {
            color: var(--text-muted);
            font-size: 14px;
            line-height: 1.4;
        }

        .comment-input-area {
            padding: 12px 20px;
            border-top: 1px solid var(--glass-border);
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .comment-input {
            flex: 1;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 10px 16px;
            color: var(--text-main);
            font-size: 14px;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--gold);
        }

        .send-comment-btn {
            background: var(--gold);
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .send-comment-btn:hover {
            opacity: 0.9;
        }

        .send-comment-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Light theme specific fixes */
        [data-theme="light"] .form-input {
            background-color: #ffffff;
            border: 1px solid rgba(184, 134, 11, 0.3);
        }

        [data-theme="light"] .comment-modal {
            background: #ffffff;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
        }

        [data-theme="light"] .modal-content {
            background: #ffffff;
        }

        [data-theme="light"] .card {
            background: #ffffff;
        }

        [data-theme="light"] .card:hover {
            background: #f9f9f9;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="overflow-x-hidden">

    <!-- Structured Data (JSON-LD) for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "JewelryStore",
        "@id": "https://amarjewellers.vercel.app/#organization",
        "name": "Amar Jewellers",
        "image": "https://amarjewellers.vercel.app/og-image.jpg",
        "logo": {
            "@type": "ImageObject",
            "url": "https://amarjewellers.vercel.app/logo.png",
            "width": 250,
            "height": 250
        },
        "url": "https://amarjewellers.com/",
        "telephone": "+917050628922",
        "priceRange": "₹₹₹",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Gali No.1, Sonar Toli",
            "addressLocality": "Siwan",
            "addressRegion": "Bihar",
            "postalCode": "841226",
            "addressCountry": "IN"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 26.2190221,
            "longitude": 84.357408
        },
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                "opens": "10:00",
                "closes": "20:00"
            }
        ],
        "sameAs": [
            "https://www.facebook.com/amarjewellers",
            "https://www.instagram.com/amarjewellers"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "5.0",
            "reviewCount": "150"
        },
        "paymentAccepted": "Cash, Credit Card, Debit Card, UPI",
        "currenciesAccepted": "INR",
        "description": "Amar Jewellers is a premium jewellery store in Siwan, Bihar, offering handcrafted gold, diamond, and bridal jewellery. Trusted for generations with certified hallmarked gold and master craftsmanship."
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "@id": "https://amarjewellers.vercel.app/#website",
        "url": "https://amarjewellers.vercel.app/",
        "name": "Amar Jewellers",
        "description": "Exquisite handcrafted gold, diamond & bridal jewellery collections",
        "publisher": {
            "@id": "https://amarjewellers.vercel.app/#organization"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://amarjewellers.vercel.app/?s={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://amarjewellers.vercel.app/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Collections",
                "item": "https://amarjewellers.vercel.app/#collections"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Gallery",
                "item": "https://amarjewellers.vercel.app/#gallery"
            },
            {
                "@type": "ListItem",
                "position": 4,
                "name": "About",
                "item": "https://amarjewellers.vercel.app/#about"
            },
            {
                "@type": "ListItem",
                "position": 5,
                "name": "Contact",
                "item": "https://amarjewellers.vercel.app/#contact"
            }
        ]
    }
    </script>

    <div id="preloader"><span class="loader"></span></div>

    <header class="sticky top-0 z-50 transition-all duration-300" id="header">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
            <a href="#home" class="flex items-center gap-3 page-link">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z"
                        stroke="var(--gold)" stroke-width="1.5" />
                    <path d="M9 15.5L12 8.5L15 15.5" stroke="var(--gold)" stroke-width="1.5" />
                    <path d="M10 13.5H14" stroke="var(--gold)" stroke-width="1.5" />
                </svg>
                <div>
                    <div class="text-xl font-bold font-serif tracking-wider">Amar Jewellers</div>
                    <div style="font-size:.8rem;color:var(--muted)">Siwan, Bihar</div>
                </div>
            </a>
            <nav class="hidden md:flex gap-10 items-center">
                <a href="#home" class="nav-link page-link active">Home</a>
                <a href="#collections" class="nav-link page-link">Collections</a>
                <a href="#gallery" class="nav-link page-link">Gallery</a>
                <a href="#about" class="nav-link page-link">About Us</a>
                <a href="#contact" class="nav-link page-link">Contact</a>
                <button id="theme-toggle"
                    class="p-2 rounded-full border border-white/10 hover:border-gold/50 transition-colors group">
                    <i data-lucide="sun" class="w-5 h-5 text-gold hidden dark-icon"></i>
                    <i data-lucide="moon" class="w-5 h-5 text-gray-300 group-hover:text-gold light-icon"></i>
                </button>
            </nav>
            <div class="flex items-center gap-3">
                <a id="whats-app-btn-desktop" class="btn-gold hidden md:block" href="#" target="_blank">WhatsApp</a>
                <button id="mobile-toggle" class="md:hidden text-white p-2"><i data-lucide="menu"></i></button>
            </div>
        </div>
        <div id="mobile-menu"
            class="hidden md:hidden absolute top-full left-0 w-full bg-[#111111] border-t border-b border-[var(--gold-faded)]">
            <nav class="flex flex-col items-center gap-4 py-6">
                <a href="#home" class="page-link nav-link-mobile text-lg py-2">Home</a>
                <a href="#collections" class="page-link nav-link-mobile text-lg py-2">Collections</a>
                <a href="#gallery" class="page-link nav-link-mobile text-lg py-2">Gallery</a>
                <a href="#about" class="page-link nav-link-mobile text-lg py-2">About Us</a>
                <a href="#contact" class="page-link nav-link-mobile text-lg py-2">Contact</a>
                <a id="whats-app-btn-mobile" class="btn-gold mt-4" href="#" target="_blank">WhatsApp Inquiry</a>
                <button id="theme-toggle-mobile" class="flex items-center gap-3 text-lg py-2 mt-4 text-gray-400">
                    <i data-lucide="sun" class="w-5 h-5 hidden dark-icon"></i>
                    <i data-lucide="moon" class="w-5 h-5 light-icon"></i>
                    <span>Toggle Theme</span>
                </button>
            </nav>
        </div>
    </header>

    <main id="app" class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div id="page-container">
            <!-- HOME PAGE -->
            <section id="page-home" class="page active space-y-24">
                <div
                    class="relative grid grid-cols-1 md:grid-cols-2 gap-12 items-center min-h-[90vh] text-center md:text-left">
                    <video id="hero-video-bg" autoplay muted loop playsinline>
                        <source
                            src="https://assets.mixkit.co/videos/preview/mixkit-close-up-of-a-faceted-diamond-on-a-black-background-3900-large.mp4"
                            type="video/mp4">
                    </video>
                    <!-- Overlay gradient for better text readability -->
                    <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent z-0"></div>

                    <div class="fade-in z-10 pl-4 md:pl-0">
                        <h1 class="text-6xl md:text-8xl font-bold leading-tight">
                            <span class="block text-white">Where Legacy</span>
                            <span class="block text-gradient-gold">Meets Luxury</span>
                        </h1>
                        <p class="text-gray-300 mt-8 max-w-lg text-lg leading-relaxed mx-auto md:mx-0 font-light">
                            Experience the pinnacle of craftsmanship with our handcrafted jewellery, a timeless
                            tradition from the heart of Siwan.
                        </p>
                        <div class="mt-10 flex gap-6 items-center justify-center md:justify-start">
                            <a href="#collections" class="btn-gold page-link">Explore Collections</a>
                            <button
                                class="get-directions-btn group flex items-center gap-3 text-white hover:text-gold transition-colors duration-300">
                                <span class="border-b border-white group-hover:border-gold pb-1 transition-colors">Visit
                                    Our Store</span>
                                <i data-lucide="arrow-right"
                                    class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                            </button>
                        </div>
                    </div>
                    <div class="hidden md:block fade-in z-10 h-[600px]">
                        <div
                            class="relative w-full h-full rounded-2xl overflow-hidden shadow-2xl shadow-gold/10 border border-white/5 group">
                            <img src="https://images.unsplash.com/photo-1611591437281-460bfbe1220a?auto=format&fit=crop&w=800&q=80"
                                alt="Elegant gold jewellery"
                                class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        </div>
                    </div>

                    <!-- Scroll Indicator -->
                    <div class="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce z-10 text-white/50">
                        <i data-lucide="chevron-down" class="w-8 h-8"></i>
                    </div>
                </div>

                <div class="fade-in card">
                    <div class="flex flex-col md:flex-row gap-8 items-center justify-between text-center md:text-left">
                        <div>
                            <h2 class="text-4xl">A Legacy of Trust</h2>
                            <p class="text-base text-gray-400 mt-2">Decades of dedicated craftsmanship and verified
                                patron reviews.</p>
                        </div>
                        <div class="flex items-center gap-6">
                            <div class="text-center">
                                <div class="text-5xl font-bold gold" id="avg-rating">5.0</div>
                                <div class="flex justify-center mt-1 text-yellow-400"><i data-lucide="star"
                                        class="w-5 h-5 fill-current"></i><i data-lucide="star"
                                        class="w-5 h-5 fill-current"></i><i data-lucide="star"
                                        class="w-5 h-5 fill-current"></i><i data-lucide="star"
                                        class="w-5 h-5 fill-current"></i><i data-lucide="star"
                                        class="w-5 h-5 fill-current"></i></div>
                            </div>
                            <div class="h-16 w-px bg-[var(--gold-faded)] hidden md:block"></div>
                            <div class="text-center">
                                <div class="text-5xl font-bold" id="reviews-count">-</div>
                                <div class="text-sm text-gray-400 mt-1">Total Reviews</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Featured Categories -->
                <div class="fade-in">
                    <div class="text-center mb-16">
                        <h2 class="text-5xl md:text-6xl font-serif text-gradient-gold mb-4">Our Collections</h2>
                        <div class="w-24 h-1 bg-gold mx-auto rounded-full"></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <a href="#collections" data-filter="bridal"
                            class="page-link category-card relative rounded-2xl overflow-hidden group h-[400px]">
                            <img src="https://images.unsplash.com/photo-1515562141207-7a88fb052571?auto=format&fit=crop&w=800&q=80"
                                alt="Bridal Jewellery"
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8">
                                <h3
                                    class="text-3xl text-white font-serif transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                    Bridal Sets</h3>
                                <p
                                    class="text-gold/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-4 group-hover:translate-y-0 delay-75">
                                    Timeless elegance for your special day</p>
                            </div>
                        </a>
                        <a href="#collections" data-filter="rings"
                            class="page-link category-card relative rounded-2xl overflow-hidden group h-[400px]">
                            <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?auto=format&fit=crop&w=800&q=80"
                                alt="Silver Jewellery"
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8">
                                <h3
                                    class="text-3xl text-white font-serif transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                    Silver Jewellery</h3>
                                <p
                                    class="text-gold/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-4 group-hover:translate-y-0 delay-75">
                                    Modern chic meet traditional purity</p>
                            </div>
                        </a>
                        <a href="#collections" data-filter="necklaces"
                            class="page-link category-card relative rounded-2xl overflow-hidden group h-[400px]">
                            <img src="https://images.unsplash.com/photo-1599643478518-17488fbbcd75?auto=format&fit=crop&w=800&q=80"
                                alt="Gold Necklaces"
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8">
                                <h3
                                    class="text-3xl text-white font-serif transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                    Gold Necklaces</h3>
                                <p
                                    class="text-gold/80 text-sm mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-4 group-hover:translate-y-0 delay-75">
                                    Statement pieces that define luxury</p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Craftsmanship Section -->
                <div
                    class="fade-in grid md:grid-cols-2 gap-16 card items-center !p-0 !bg-transparent border-none overflow-visible">
                    <div class="relative rounded-2xl overflow-hidden shadow-2xl shadow-gold/10 group h-[500px]">
                        <img src="https://images.unsplash.com/photo-1621815152885-f350c38260a9?auto=format&fit=crop&w=800&q=80"
                            alt="Jeweller meticulously working on a gold ring"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
                        <div class="absolute inset-0 bg-gold/10 mix-blend-overlay"></div>
                    </div>
                    <div>
                        <h2 class="text-5xl md:text-6xl text-gradient-gold mb-6 font-serif">The Art of Craftsmanship
                        </h2>
                        <div class="w-20 h-1 bg-gold mb-8"></div>
                        <p class="text-gray-300 leading-relaxed text-lg mb-8 font-light">Each piece at Amar Jewellers is
                            a testament to the art
                            of fine jewellery making. Our master craftsmen pour their heart and soul into every detail,
                            from the initial sketch to the final polish. We honour traditional techniques passed down
                            through generations while embracing innovation to create heirlooms that last a lifetime.</p>
                        <div class="mt-6">
                            <a href="#about" class="btn-gold page-link">Discover Our Story</a>
                        </div>
                    </div>
                </div>

                <div class="fade-in text-center my-32">
                    <h2 class="text-4xl md:text-5xl text-gradient-gold mb-4 font-serif">Words of Trust</h2>
                    <div class="w-20 h-1 bg-gold mx-auto mb-12"></div>
                    <div id="top-reviews-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Reviews inserted by JS -->
                    </div>
                    <div class="mt-12">
                        <a href="#contact" class="btn-gold page-link">Read More Reviews</a>
                    </div>
                </div>
            </section>

            <!-- COLLECTIONS PAGE -->
            <section id="page-collections" class="page space-y-12">
                <h2 class="text-5xl text-center">Our Collections</h2>
                <div id="filters-container" class="flex flex-wrap justify-center gap-3"></div>
                <div id="collections-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                </div>
            </section>

            <!-- GALLERY PAGE -->
            <section id="page-gallery" class="page">
                <div id="reels-container"
                    class="relative w-full h-screen overflow-y-scroll snap-y snap-mandatory scrollbar-hide">
                    <!-- Reels will be inserted here -->
                </div>
            </section>

            <!-- ABOUT PAGE -->
            <section id="page-about" class="page space-y-32">
                <div class="fade-in grid md:grid-cols-2 gap-16 items-center">
                    <div class="order-2 md:order-1">
                        <h2 class="text-5xl md:text-6xl text-gradient-gold mb-6 font-serif">Our Legacy</h2>
                        <div class="w-20 h-1 bg-gold mb-8"></div>
                        <p class="text-gray-300 leading-relaxed text-lg font-light mb-6">For generations, Amar Jewellers
                            has been synonymous
                            with artistry and trust. We blend time-honored techniques with contemporary designs,
                            ensuring every piece is not just an ornament, but a legacy.</p>
                        <p class="text-gray-300 leading-relaxed text-lg font-light">Our commitment to purity and
                            customer satisfaction remains at the heart of everything we create. When you choose us, you
                            choose a relationship built on transparency and excellence.</p>
                    </div>
                    <div
                        class="relative rounded-2xl overflow-hidden shadow-2xl shadow-gold/10 group h-[500px] order-1 md:order-2">
                        <img src="https://images.unsplash.com/photo-1589128777090-f7094a47c57c?auto=format&fit=crop&w=800&q=80"
                            alt="Jeweller crafting a piece"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
                        <div class="absolute inset-0 bg-gold/10 mix-blend-overlay"></div>
                    </div>
                </div>

                <div class="fade-in text-center">
                    <h2 class="text-4xl md:text-5xl text-gradient-gold mb-16 font-serif">Our Promise</h2>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div
                            class="p-8 rounded-2xl bg-white/5 border border-white/5 hover:border-gold/30 transition-all duration-300 group hover:-translate-y-2">
                            <div
                                class="w-16 h-16 mx-auto bg-gold/10 rounded-full flex items-center justify-center mb-6 group-hover:bg-gold/20 transition-colors">
                                <i data-lucide="gem" class="w-8 h-8 text-gold"></i>
                            </div>
                            <h3 class="text-2xl font-serif text-white mb-3">Purity Guaranteed</h3>
                            <p class="text-gray-400 font-light">Only certified, hallmarked gold and ethically sourced
                                diamonds.</p>
                        </div>
                        <div
                            class="p-8 rounded-2xl bg-white/5 border border-white/5 hover:border-gold/30 transition-all duration-300 group hover:-translate-y-2">
                            <div
                                class="w-16 h-16 mx-auto bg-gold/10 rounded-full flex items-center justify-center mb-6 group-hover:bg-gold/20 transition-colors">
                                <i data-lucide="crown" class="w-8 h-8 text-gold"></i>
                            </div>
                            <h3 class="text-2xl font-serif text-white mb-3">Master Craftsmanship</h3>
                            <p class="text-gray-400 font-light">Handcrafted by skilled artisans with decades of
                                experience.</p>
                        </div>
                        <div
                            class="p-8 rounded-2xl bg-white/5 border border-white/5 hover:border-gold/30 transition-all duration-300 group hover:-translate-y-2">
                            <div
                                class="w-16 h-16 mx-auto bg-gold/10 rounded-full flex items-center justify-center mb-6 group-hover:bg-gold/20 transition-colors">
                                <i data-lucide="handshake" class="w-8 h-8 text-gold"></i>
                            </div>
                            <h3 class="text-2xl font-serif text-white mb-3">Lifetime Trust</h3>
                            <p class="text-gray-400 font-light">We stand by our creations with lifetime maintenance
                                support.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CONTACT PAGE -->
            <section id="page-contact" class="page space-y-12">
                <div class="text-center mb-8">
                    <h2 class="text-5xl md:text-6xl font-serif text-gradient-gold mb-4">Visit & Connect</h2>
                    <p class="text-gray-400">We'd love to hear from you</p>
                </div>

                <div id="map-container"
                    class="relative w-full h-[400px] rounded-2xl overflow-hidden border border-gold/20 shadow-2xl">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3574.67288762118!2d84.357408!3d26.2190221!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39931750a9821815%3A0x13c313f2a8987383!2sAmar%20Jewellers!5e0!3m2!1sen!2sin!4v1728723948624"
                        width="100%" height="100%" style="border:0; filter: invert(90%) hue-rotate(180deg);"
                        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                    <div
                        class="absolute top-1/2 left-1/2 w-8 h-8 bg-gold rounded-full -translate-x-1/2 -translate-y-1/2 animate-ping opacity-75">
                    </div>
                    <div
                        class="absolute top-1/2 left-1/2 w-4 h-4 bg-gold rounded-full -translate-x-1/2 -translate-y-1/2">
                    </div>
                </div>

                <div class="text-center">
                    <button class="get-directions-btn btn-gold">Get Directions</button>
                </div>

                <div class="fade-in grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card bg-white/5 border-white/5">
                        <h3 class="text-3xl font-serif text-white mb-6">Contact Info</h3>
                        <div class="space-y-6">
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center shrink-0">
                                    <i data-lucide="map-pin" class="text-gold w-5 h-5"></i>
                                </div>
                                <div>
                                    <h4 class="text-gold font-semibold mb-1">Address</h4>
                                    <p class="text-gray-300">Gali No.1, Sonar Toli, Siwan, Bihar 841226</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center shrink-0">
                                    <i data-lucide="phone" class="text-gold w-5 h-5"></i>
                                </div>
                                <div>
                                    <h4 class="text-gold font-semibold mb-1">Phone</h4>
                                    <p class="text-gray-300">+91 70506 28922</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div
                                    class="w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center shrink-0">
                                    <i data-lucide="clock" class="text-gold w-5 h-5"></i>
                                </div>
                                <div>
                                    <h4 class="text-gold font-semibold mb-1">Hours</h4>
                                    <p class="text-gray-300">Mon - Sat: 10:00 AM - 8:00 PM</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card bg-white/5 border-white/5">
                        <h3 class="text-3xl font-serif text-white mb-6">Leave a Review</h3>
                        <form id="review-form" class="space-y-4">
                            <input name="name" placeholder="Your Name" required
                                class="form-input bg-black/40 border-white/10 focus:border-gold" />
                            <select name="rating" class="form-input bg-black/40 border-white/10 focus:border-gold">
                                <option value="5" class="bg-black">★★★★★ - Excellent</option>
                                <option value="4" class="bg-black">★★★★☆ - Good</option>
                                <option value="3" class="bg-black">★★★☆☆ - Average</option>
                                <option value="2" class="bg-black">★★☆☆☆ - Poor</option>
                                <option value="1" class="bg-black">★☆☆☆☆ - Terrible</option>
                            </select>
                            <textarea name="text" rows="3" placeholder="Share your experience..." required
                                class="form-input bg-black/40 border-white/10 focus:border-gold"></textarea>
                            <div class="flex items-center gap-4 pt-2">
                                <button type="submit" class="btn-gold w-full">Submit Review</button>
                            </div>
                            <div id="review-result" class="text-center text-sm text-gold mt-2"></div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Comment Modal -->
    <div id="comment-modal" class="comment-modal">
        <div class="comment-modal-header">
            <h3 class="text-xl font-semibold">Comments</h3>
            <button id="close-comment-modal" class="text-gray-400 hover:text-white">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>
        <div class="comment-modal-body" id="comments-list">
            <!-- Comments will be inserted here -->
        </div>
        <div class="comment-input-area">
            <input type="text" id="comment-input" class="comment-input" placeholder="Add a comment..." />
            <button id="send-comment" class="send-comment-btn">Post</button>
        </div>
    </div>

    <!-- Modal Overlay for comments -->
    <div id="comment-overlay" class="modal-overlay" onclick="hideCommentModal()"></div>

    <footer class="mt-32 pt-20 pb-10 bg-black border-t border-white/10">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
                <!-- Brand -->
                <div class="col-span-1 md:col-span-2">
                    <div class="text-gold font-serif font-bold text-2xl flex items-center gap-2 mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L2 9l10 13 10-13-10-7zm0 3.3l6.7 4.7-2.7 8.6H8L5.3 10l6.7-4.7z" />
                        </svg>
                        Amar Jewellers
                    </div>
                    <p class="text-gray-400 leading-relaxed mb-6 max-w-sm">
                        Crafting timeless elegance since 1990. We take pride in our heritage of purity, trust, and
                        exquisite design.
                    </p>
                    <div class="flex gap-4">
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400 hover:bg-gold hover:text-black transition-all">
                            <i data-lucide="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400 hover:bg-gold hover:text-black transition-all">
                            <i data-lucide="facebook" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-white font-serif text-lg mb-6">Quick Links</h4>
                    <ul class="space-y-4">
                        <li><a href="#home" class="text-gray-400 hover:text-gold transition-colors">Home</a></li>
                        <li><a href="#collections"
                                class="text-gray-400 hover:text-gold transition-colors">Collections</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-gold transition-colors">Our Story</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-gold transition-colors">Contact</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div>
                    <h4 class="text-white font-serif text-lg mb-6">Stay Updated</h4>
                    <p class="text-gray-400 text-sm mb-4">Subscribe for latest collection updates and exclusive offers.
                    </p>
                    <form class="flex flex-col gap-3">
                        <input type="email" placeholder="Your Email"
                            class="bg-white/5 border border-white/10 rounded px-4 py-3 text-white focus:border-gold focus:outline-none transition-colors">
                        <button type="submit" class="btn-gold !py-2 !text-sm">Subscribe</button>
                    </form>
                </div>
            </div>

            <div
                class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-500">
                <div>
                    © <span id="year"></span> Amar Jewellers. All Rights Reserved.
                </div>
                <div>
                    Managed by <span class="text-gold">Yash Verma</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Auto-update year
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <style>
        /* Gold text color */
        .text-gold {
            color: #FFD700;
        }

        .text-gold:hover {
            color: #fff;
        }
    </style>


    <div id="item-modal" class="modal-overlay">
        <div class="modal-content relative">
            <button id="modal-close-btn" class="absolute -top-3 -right-3 bg-white text-black rounded-full p-1 z-10"><i
                    data-lucide="x"></i></button>
            <div class="grid md:grid-cols-2 gap-8 items-start">
                <div class="space-y-4">
                    <div class="relative overflow-hidden rounded-lg aspect-square bg-white/5">
                        <img id="modal-img" src="" alt="Jewellery item" class="w-full h-full object-cover">
                    </div>
                    <div id="modal-thumbnails" class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
                        <!-- Thumbnails inserted by JS -->
                    </div>
                </div>
                <div>
                    <h3 id="modal-name" class="text-4xl font-serif text-gradient-gold mb-2">Item Name</h3>
                    <div class="w-16 h-1 bg-gold/50 mb-6"></div>
                    <p id="modal-desc" class="text-gray-300 mt-4 leading-relaxed font-light">Detailed description of the
                        item goes here.</p>
                    <div class="mt-4 pb-6 border-b border-white/10">
                        <p class="text-2xl text-gold font-light" id="modal-price"></p>
                    </div>
                    <div class="mt-8 flex flex-col gap-4">
                        <a id="modal-inquire-btn" href="#" class="btn-gold text-center" target="_blank">Inquire via
                            WhatsApp</a>
                        <p class="text-xs text-gray-500 text-center">Reference ID: <span class="text-gray-400 font-mono"
                                id="modal-ref-id">#AMAR-001</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="lightbox" class="lightbox-overlay">
        <div class="lightbox-content"><img id="lightbox-img" src="" alt="Gallery View"></div>
    </div>
    <button id="back-to-top"><i data-lucide="arrow-up"></i></button>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import {
            getFirestore, collection, getDocs, addDoc, onSnapshot, serverTimestamp, query,
            doc, getDoc, updateDoc, setDoc, where, orderBy
        } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

        const firebaseConfig = { "apiKey": "AIzaSyClmmIMt7oMwk_uDcCUuzfeO-_WZVhefcQ", "authDomain": "amarjewellers-e7f60.firebaseapp.com", "projectId": "amarjewellers-e7f60", "storageBucket": "amarjewellers-e7f60.appspot.com", "messagingSenderId": "187194567147", "appId": "1:187194567147:web:c84d6b6d21387d81a9437a" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const APP_ID = "amarjewellers-e7f60";
        // Using valid 5-segment paths (Collection/Doc/Collection/Doc/Collection)
        const INVENTORY_PATH = `artifacts/${APP_ID}/public/data/inventory-items`;
        const REVIEWS_PATH = `artifacts/${APP_ID}/public/data/reviews`;

        // Fallback Mock Data with Working Placeholders
        const PLACEHOLDER_IMG = "https://placehold.co/600x600/1a1a1a/gold?text=Amar+Jewellers";

        let inventoryItems = [
            {
                id: "1",
                name: "Royal Kundan Set",
                category: "bridal",
                price: 150000,
                img: "https://images.unsplash.com/photo-1611591437281-460bfbe1220a?auto=format&fit=crop&w=800&q=80",
                images: [
                    "https://images.unsplash.com/photo-1611591437281-460bfbe1220a?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1515562141207-7a88fb052571?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?auto=format&fit=crop&w=800&q=80"
                ],
                desc: "Handcrafted 22K gold Kundan bridal set with precious stones.",
                longDesc: "This exquisite Royal Kundan Set is a masterpiece of traditional Indian craftsmanship. Made with 22K hallmarked gold, it features intricate Meenakari work and is studded with premium quality uncut diamonds and precious stones."
            },
            {
                id: "2",
                name: "Diamond Solitaire Ring",
                category: "rings",
                price: 50000,
                img: "https://images.unsplash.com/photo-1605100804763-247f67b3557e?auto=format&fit=crop&w=800&q=80",
                images: [
                    "https://images.unsplash.com/photo-1605100804763-247f67b3557e?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1603561591411-cd76b680a311?auto=format&fit=crop&w=800&q=80"
                ],
                desc: "Certified 1ct solitaire diamond ring in 18K white gold.",
                longDesc: "A symbol of eternal love, this Solitaire Ring features a certified 1-carat diamond set in a classic 6-prong setting."
            },
            {
                id: "3",
                name: "Antique Temple Necklace",
                category: "necklaces",
                price: 95000,
                img: "https://images.unsplash.com/photo-1599643478518-17488fbbcd75?auto=format&fit=crop&w=800&q=80",
                images: ["https://images.unsplash.com/photo-1599643478518-17488fbbcd75?auto=format&fit=crop&w=800&q=80"],
                desc: "Traditional temple jewellery inspired by divine motifs.",
                longDesc: "Inspired by the divine architecture of ancient temples, this necklace features Goddess Lakshmi motifs intricately carved in 22K antique-finish gold."
            },
            {
                id: "4",
                name: "Silver Oxidized Choker",
                category: "necklaces",
                price: 15000,
                img: "https://images.unsplash.com/photo-1573408301185-9146fe635981?auto=format&fit=crop&w=800&q=80",
                images: ["https://images.unsplash.com/photo-1573408301185-9146fe635981?auto=format&fit=crop&w=800&q=80"],
                desc: "Contemporary oxidized silver choker for a boho-chic look.",
                longDesc: "Make a bold style statement with this handcrafted oxidized silver choker. Its intricate geometric patterns make it a versatile accessory."
            },
            {
                id: "5",
                name: "Gold Bangle Set",
                category: "bridal",
                price: 80000,
                img: "https://images.unsplash.com/photo-1611591437281-460bfbe1220a?auto=format&fit=crop&w=800&q=80",
                images: ["https://images.unsplash.com/photo-1611591437281-460bfbe1220a?auto=format&fit=crop&w=800&q=80"],
                desc: "Set of 4 intricate gold bangles with matte finish.",
                longDesc: "Adorn your wrists with this stunning set of 4 gold bangles. Crafted in 22K gold with a sophisticated matte finish."
            }
        ];
        const dom = {
            collectionsGrid: document.getElementById('collections-grid'),
            filtersContainer: document.getElementById('filters-container'),
            reviewForm: document.getElementById('review-form'),
            reviewResult: document.getElementById('review-result'),
            preloader: document.getElementById('preloader'),
            backToTop: document.getElementById('back-to-top'),
            lightbox: document.getElementById('lightbox'),
            lightboxImg: document.getElementById('lightbox-img'),
            pages: document.querySelectorAll('.page'),
            navLinks: document.querySelectorAll('.page-link'),
            mobileMenu: document.getElementById('mobile-menu'),
            mobileToggle: document.getElementById('mobile-toggle'),
            itemModal: document.getElementById('item-modal'),
            modalImg: document.getElementById('modal-img'),
            modalName: document.getElementById('modal-name'),
            modalDesc: document.getElementById('modal-desc'),
            modalPrice: document.getElementById('modal-price'),
            modalRefId: document.getElementById('modal-ref-id'),
            modalThumbnails: document.getElementById('modal-thumbnails'),
            modalInquireBtn: document.getElementById('modal-inquire-btn'),
            modalCloseBtn: document.getElementById('modal-close-btn'),
            avgRatingEl: document.getElementById('avg-rating'),
            reviewsCountEl: document.getElementById('reviews-count'),
            topReviewsGrid: document.getElementById('top-reviews-grid'),
            header: document.getElementById('header')
        };

        function createCard(item, index) {
            const div = document.createElement('div');
            div.className = 'card fade-in group';
            div.style.transitionDelay = `${index * 100}ms`;
            div.innerHTML = `
        <div class="relative overflow-hidden rounded-xl">
            <img loading="lazy" src="${item.img}" alt="${item.name}" class="jewel-img w-full h-[300px] object-cover transition-transform duration-700 group-hover:scale-110" data-item-id="${item.id}"/>
            <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                <button class="btn-gold !px-6 !py-3 view-details-btn transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300" data-item-id="${item.id}">Quick View</button>
            </div>
        </div>
        <div class="pt-5 text-center">
            <h4 class="text-2xl font-serif tracking-wide text-white group-hover:text-gold transition-colors duration-300">${item.name}</h4>
            <div class="w-12 h-0.5 bg-gold/30 mx-auto my-3"></div>
            <p class="text-sm text-gray-400 line-clamp-2 min-h-[40px]">${item.desc || 'Exquisite craftsmanship.'}</p>
        </div>
      `;
            return div;
        }

        function createReviewCard(review) {
            const stars = Array(5).fill(0).map((_, i) =>
                `<i data-lucide="star" class="w-4 h-4 ${i < (review.rating || 5) ? 'fill-gold text-gold' : 'text-gray-600'}"></i>`
            ).join('');

            return `
            <div class="card fade-in border border-white/5 bg-white/5 backdrop-blur-sm p-8 rounded-2xl relative">
                <div class="absolute -top-4 -left-4 text-6xl text-gold/20 font-serif">"</div>
                <div class="flex gap-1 mb-4">${stars}</div>
                <p class="text-gray-200 text-lg leading-relaxed italic relative z-10">"${review.text}"</p>
                <div class="mt-6 flex items-center gap-4">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gold to-yellow-600 flex items-center justify-center text-black font-bold text-xl">
                        ${review.name.charAt(0)}
                    </div>
                    <div>
                        <p class="font-bold text-gold">${review.name}</p>
                        <p class="text-xs text-gray-500">Verified Customer</p>
                    </div>
                </div>
            </div>
        `;
        }

        function renderCollections(filter = 'all') {
            dom.collectionsGrid.innerHTML = '';
            const filteredItems = filter === 'all' ? inventoryItems : inventoryItems.filter(item => item.category && item.category.toLowerCase() === filter);
            filteredItems.forEach((item, index) => {
                const card = createCard(item, index);
                dom.collectionsGrid.appendChild(card);
            });
            document.querySelectorAll('.view-details-btn, .jewel-img').forEach(btn => {
                btn.addEventListener('click', (e) => showItemDetail(e.currentTarget.dataset.itemId));
            });
            initAnimations();
        }

        function setupFilters() {
            const categories = ['all', ...new Set(inventoryItems.map(item => item.category).filter(Boolean))];
            dom.filtersContainer.innerHTML = categories.map(cat =>
                `<button class="filter-btn capitalize ${cat === 'all' ? 'active' : ''}" data-filter="${cat.toLowerCase()}">${cat}</button>`
            ).join('');
            dom.filtersContainer.addEventListener('click', e => {
                if (e.target.classList.contains('filter-btn')) {
                    dom.filtersContainer.querySelector('.active')?.classList.remove('active');
                    e.target.classList.add('active');
                    renderCollections(e.target.dataset.filter);
                }
            });
        }

        async function loadInventory() {
            try {
                // Try fetching from Firestore
                const snapshot = await getDocs(query(collection(db, INVENTORY_PATH)));
                if (!snapshot.empty) {
                    // If we have data in Firebase, use it
                    const firebaseItems = snapshot.docs.map(doc => {
                        const data = doc.data();
                        return {
                            id: doc.id,
                            ...data,
                            // Ensure image fields have fallbacks
                            img: data.img || PLACEHOLDER_IMG,
                            images: data.images || [data.img || PLACEHOLDER_IMG]
                        };
                    });
                    inventoryItems = firebaseItems;
                    console.log("Loaded inventory from Firebase:", inventoryItems);
                } else {
                    console.log("Firebase inventory empty, using mock data.");
                }
            } catch (err) {
                console.error("Error loading inventory from Firebase:", err);
                console.log("Falling back to local mock data.");
                // We keep the initial mock data intact as fallback
            }

            // Render UI regardless of source (Mock or Firebase)
            renderCollections();
            setupFilters();
            renderGallery();
        }

        // Firebase paths for engagement (using valid 5-segment paths)
        const ENGAGEMENT_PATH = `artifacts/${APP_ID}/public/data/engagement`;
        const COMMENTS_PATH = `artifacts/${APP_ID}/public/data/comments`;

        let currentReelId = null;
        let engagementData = {};

        function renderGallery() {
            const reelsContainer = document.getElementById('reels-container');
            if (!reelsContainer) return;

            reelsContainer.innerHTML = inventoryItems.slice(0, 12).map((item, index) => {
                const reelId = `reel-${index}`;
                const isVideo = item.video || (item.img && (item.img.includes('.mp4') || item.img.includes('.webm')));
                const mediaUrl = item.video || item.img;

                return `
                <div class="reel-item" id="${reelId}" data-index="${index}" data-item-id="${item.id}">
                    ${isVideo ? `
                        <video 
                            class="reel-video" 
                            src="${mediaUrl}" 
                            loop 
                            playsinline
                            muted
                            data-reel-id="${reelId}"
                        ></video>
                        <div class="video-progress">
                            <div class="video-progress-bar" id="progress-${reelId}"></div>
                        </div>
                        <button class="mute-btn" data-reel-id="${reelId}">
                            <i data-lucide="volume-x" class="mute-icon"></i>
                        </button>
                    ` : `
                        <img loading="lazy" src="${mediaUrl}" alt="${item.name}" class="reel-img" />
                    `}
                    <div class="reel-overlay"></div>
                    
                    <!-- Header -->
                    <div class="reel-header">
                        <div class="reel-logo">✨ Amar Jewellers</div>
                        <i data-lucide="x" class="reel-nav-icon" onclick="showPage('home')"></i>
                    </div>
                    
                    <!-- Content -->
                    <div class="reel-content">
                        <h3 class="reel-title">${item.name}</h3>
                        <p class="reel-description">${item.desc || 'Exquisite craftsmanship that defines luxury'}</p>
                    </div>
                    
                    <!-- Actions -->
                    <div class="reel-actions">
                        <div class="reel-action-btn" data-action="like" data-reel="${reelId}">
                            <i data-lucide="heart" class="reel-action-icon like-icon"></i>
                            <span class="reel-action-text engagement-count like-count" id="likes-${reelId}">0</span>
                        </div>
                        <div class="reel-action-btn" data-action="comment" data-reel="${reelId}">
                            <i data-lucide="message-circle" class="reel-action-icon"></i>
                            <span class="reel-action-text engagement-count" id="comments-${reelId}">0</span>
                        </div>
                        <div class="reel-action-btn" data-action="share" data-reel="${reelId}">
                            <i data-lucide="send" class="reel-action-icon"></i>
                            <span class="reel-action-text engagement-count" id="shares-${reelId}">0</span>
                        </div>
                        <div class="reel-action-btn" data-action="details" data-item-id="${item.id}">
                            <i data-lucide="info" class="reel-action-icon"></i>
                            <span class="reel-action-text">Details</span>
                        </div>
                    </div>
                </div>
            `;
            }).join('');

            // Initialize Lucide icons for the reels
            lucide.createIcons();

            // Setup reel interactions
            setupReelInteractions();
            setupVideoControls();
            setupIntersectionObserver();
            loadEngagementData();
        }

        function setupVideoControls() {
            const videos = document.querySelectorAll('.reel-video');

            videos.forEach(video => {
                const reelId = video.dataset.reelId;
                const progressBar = document.getElementById(`progress-${reelId}`);

                // Update progress bar
                video.addEventListener('timeupdate', () => {
                    if (progressBar && video.duration) {
                        const progress = (video.currentTime / video.duration) * 100;
                        progressBar.style.width = `${progress}%`;
                    }
                });

                // Loop progress bar
                video.addEventListener('ended', () => {
                    if (progressBar) {
                        progressBar.style.width = '0%';
                    }
                });
            });

            // Mute/unmute buttons
            document.querySelectorAll('.mute-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const reelId = btn.dataset.reelId;
                    const video = document.querySelector(`video[data-reel-id="${reelId}"]`);
                    const icon = btn.querySelector('.mute-icon');

                    if (video) {
                        video.muted = !video.muted;
                        icon.setAttribute('data-lucide', video.muted ? 'volume-x' : 'volume-2');
                        lucide.createIcons();
                    }
                });
            });
        }

        function setupIntersectionObserver() {
            const options = {
                root: document.getElementById('reels-container'),
                threshold: 0.5
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const video = entry.target.querySelector('.reel-video');
                    if (video) {
                        if (entry.isIntersecting) {
                            video.play().catch(err => console.log('Video play failed:', err));
                        } else {
                            video.pause();
                        }
                    }
                });
            }, options);

            document.querySelectorAll('.reel-item').forEach(reel => {
                observer.observe(reel);
            });
        }

        async function loadEngagementData() {
            try {
                const snapshot = await getDocs(collection(db, ENGAGEMENT_PATH));
                snapshot.forEach(doc => {
                    const data = doc.data();
                    engagementData[doc.id] = data;
                    updateEngagementUI(doc.id, data);
                });

                // Set up real-time listener
                onSnapshot(collection(db, ENGAGEMENT_PATH), (snapshot) => {
                    snapshot.docChanges().forEach(change => {
                        if (change.type === 'added' || change.type === 'modified') {
                            const data = change.doc.data();
                            engagementData[change.doc.id] = data;
                            updateEngagementUI(change.doc.id, data);
                        }
                    });
                });
            } catch (err) {
                console.error('Error loading engagement data:', err);
            }
        }

        function updateEngagementUI(reelId, data) {
            const likesEl = document.getElementById(`likes-${reelId}`);
            const commentsEl = document.getElementById(`comments-${reelId}`);
            const sharesEl = document.getElementById(`shares-${reelId}`);

            if (likesEl) likesEl.textContent = formatCount(data.likes || 0);
            if (commentsEl) commentsEl.textContent = formatCount(data.comments || 0);
            if (sharesEl) sharesEl.textContent = formatCount(data.shares || 0);
        }

        function formatCount(count) {
            if (count >= 1000000) return (count / 1000000).toFixed(1) + 'M';
            if (count >= 1000) return (count / 1000).toFixed(1) + 'K';
            return count.toString();
        }

        async function incrementEngagement(reelId, type) {
            try {
                const docRef = doc(db, ENGAGEMENT_PATH, reelId);
                const docSnap = await getDoc(docRef);

                if (docSnap.exists()) {
                    const currentData = docSnap.data();
                    await updateDoc(docRef, {
                        [type]: (currentData[type] || 0) + 1
                    });
                } else {
                    await setDoc(docRef, {
                        likes: type === 'likes' ? 1 : 0,
                        comments: type === 'comments' ? 1 : 0,
                        shares: type === 'shares' ? 1 : 0,
                        views: 0
                    });
                }
            } catch (err) {
                console.error('Error incrementing engagement:', err);
            }
        }

        function setupReelInteractions() {
            const reelsContainer = document.getElementById('reels-container');
            if (!reelsContainer) return;

            // Double tap to like
            let lastTap = 0;
            reelsContainer.querySelectorAll('.reel-item').forEach(reel => {
                const video = reel.querySelector('.reel-video');

                reel.addEventListener('click', (e) => {
                    // Skip if clicking on action buttons
                    if (e.target.closest('.reel-action-btn') || e.target.closest('.mute-btn')) {
                        return;
                    }

                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;

                    if (tapLength < 500 && tapLength > 0) {
                        // Double tap detected
                        const reelId = reel.id;
                        toggleLike(reelId, true);
                        showHeartAnimation(reel);
                        e.preventDefault();
                    } else if (video) {
                        // Single tap - toggle play/pause for videos
                        if (video.paused) {
                            video.play();
                        } else {
                            video.pause();
                        }
                    }
                    lastTap = currentTime;
                });
            });

            // Action buttons
            reelsContainer.querySelectorAll('.reel-action-btn').forEach(btn => {
                btn.addEventListener('click', async (e) => {
                    e.stopPropagation();
                    const action = btn.dataset.action;
                    const reelId = btn.dataset.reel;
                    const itemId = btn.dataset.itemId;

                    switch (action) {
                        case 'like':
                            await toggleLike(reelId);
                            break;
                        case 'comment':
                            showCommentModal(reelId);
                            break;
                        case 'share':
                            await shareReel(reelId);
                            break;
                        case 'details':
                            showItemDetail(itemId);
                            break;
                    }
                });
            });
        }

        async function toggleLike(reelId, forceAdd = false) {
            const reel = document.getElementById(reelId);
            if (!reel) return;

            const likeIcon = reel.querySelector('.like-icon');
            if (!likeIcon) return;

            const isLiked = likeIcon.classList.contains('filled');

            if (forceAdd && !isLiked) {
                likeIcon.classList.add('filled');
                await incrementEngagement(reelId, 'likes');
            } else if (!forceAdd) {
                likeIcon.classList.toggle('filled');
                if (!isLiked) {
                    await incrementEngagement(reelId, 'likes');
                }
            }

            // Re-render icons to show filled state
            lucide.createIcons();
        }

        function showHeartAnimation(reel) {
            const heart = document.createElement('div');
            heart.className = 'double-tap-heart';
            heart.innerHTML = '<i data-lucide="heart" style="width: 100px; height: 100px; fill: white; color: white;"></i>';
            reel.appendChild(heart);

            lucide.createIcons();

            setTimeout(() => {
                heart.remove();
            }, 800);
        }

        function showCommentModal(reelId) {
            currentReelId = reelId;
            const modal = document.getElementById('comment-modal');
            const overlay = document.getElementById('comment-overlay');

            modal.classList.add('visible');
            overlay.classList.add('visible');

            loadComments(reelId);
            lucide.createIcons();
        }

        function hideCommentModal() {
            const modal = document.getElementById('comment-modal');
            const overlay = document.getElementById('comment-overlay');

            modal.classList.remove('visible');
            overlay.classList.remove('visible');
            currentReelId = null;
        }

        async function loadComments(reelId) {
            const commentsList = document.getElementById('comments-list');
            if (!commentsList) return;

            commentsList.innerHTML = '<p class="text-gray-400 text-center py-4">Loading comments...</p>';

            try {
                const q = query(
                    collection(db, COMMENTS_PATH),
                    where('reelId', '==', reelId)
                );

                const snapshot = await getDocs(q);

                if (snapshot.empty) {
                    commentsList.innerHTML = '<p class="text-gray-400 text-center py-8">No comments yet. Be the first to comment!</p>';
                } else {
                    // Sort comments client-side by timestamp (newest first)
                    const comments = snapshot.docs
                        .map(doc => doc.data())
                        .sort((a, b) => {
                            if (!a.timestamp || !b.timestamp) return 0;
                            return b.timestamp.seconds - a.timestamp.seconds;
                        });

                    commentsList.innerHTML = comments.map(comment => createCommentHTML(comment)).join('');
                }
            } catch (err) {
                console.error('Error loading comments:', err);
                commentsList.innerHTML = '<p class="text-gray-400 text-center py-4">Error loading comments.</p>';
            }
        }

        function createCommentHTML(comment) {
            return `
                <div class="comment-item">
                    <div class="comment-avatar">${comment.name ? comment.name.charAt(0).toUpperCase() : '?'}</div>
                    <div class="comment-content">
                        <div class="comment-author">${comment.name || 'Anonymous'}</div>
                        <div class="comment-text">${comment.text}</div>
                    </div>
                </div>
            `;
        }

        async function postComment() {
            if (!currentReelId) return;

            const input = document.getElementById('comment-input');
            const text = input.value.trim();

            if (!text) return;

            const sendBtn = document.getElementById('send-comment');
            sendBtn.disabled = true;

            try {
                await addDoc(collection(db, COMMENTS_PATH), {
                    reelId: currentReelId,
                    name: 'User',
                    text: text,
                    timestamp: serverTimestamp()
                });

                await incrementEngagement(currentReelId, 'comments');

                input.value = '';
                loadComments(currentReelId);
            } catch (err) {
                console.error('Error posting comment:', err);
                alert('Failed to post comment. Please try again.');
            } finally {
                sendBtn.disabled = false;
            }
        }

        async function shareReel(reelId) {
            await incrementEngagement(reelId, 'shares');

            const shareText = 'Check out this amazing jewellery from Amar Jewellers! ✨';
            const shareUrl = window.location.href;

            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'Amar Jewellers',
                        text: shareText,
                        url: shareUrl
                    });
                } catch (err) {
                    if (err.name !== 'AbortError') {
                        console.log('Share failed:', err);
                    }
                }
            } else {
                // Fallback - copy to clipboard
                try {
                    await navigator.clipboard.writeText(shareUrl);
                    alert('Link copied to clipboard! 📋');
                } catch (err) {
                    console.error('Clipboard failed:', err);
                }
            }
        }

        // Setup comment modal event listeners
        document.addEventListener('DOMContentLoaded', () => {
            const closeBtn = document.getElementById('close-comment-modal');
            const sendBtn = document.getElementById('send-comment');
            const input = document.getElementById('comment-input');

            if (closeBtn) {
                closeBtn.addEventListener('click', hideCommentModal);
            }

            if (sendBtn) {
                sendBtn.addEventListener('click', postComment);
            }

            if (input) {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        postComment();
                    }
                });
            }
        });

        function initReviewsListener() {
            try {
                onSnapshot(query(collection(db, REVIEWS_PATH)), snapshot => {
                    const reviews = snapshot.docs.map(doc => doc.data());
                    const total = reviews.reduce((acc, r) => acc + (r.rating || 5), 0);
                    const avg = reviews.length ? (total / reviews.length).toFixed(1) : '5.0';
                    dom.avgRatingEl.textContent = avg;
                    dom.reviewsCountEl.textContent = `${reviews.length || '0'}`;
                    reviews.sort((a, b) => (b.rating || 5) - (a.rating || 5));
                    dom.topReviewsGrid.innerHTML = reviews.slice(0, 3).map(createReviewCard).join('');
                    initAnimations();
                });
            } catch (err) { console.error("Error setting reviews listener:", err); }
        }

        function showItemDetail(itemId) {
            const item = inventoryItems.find(i => i.id === itemId);
            if (!item) return;

            // Set main details
            dom.modalImg.src = item.img;
            dom.modalName.textContent = item.name;
            dom.modalDesc.textContent = item.longDesc || item.desc || 'No description available.';
            dom.modalPrice.textContent = item.price ? `₹${item.price.toLocaleString()}` : 'Price on Request';
            dom.modalRefId.textContent = `#AMAR-${item.id.padStart(3, '0')}`;

            // Generate Thumbnails
            const images = item.images || [item.img];
            dom.modalThumbnails.innerHTML = images.map((img, idx) => `
                <div class="cursor-pointer border-2 ${idx === 0 ? 'border-gold' : 'border-transparent'} hover:border-gold/50 rounded-md overflow-hidden shrink-0 w-16 h-16 transition-all" onclick="updateModalImage(this, '${img}')">
                    <img src="${img}" class="w-full h-full object-cover">
                </div>
            `).join('');

            // Inquire Link
            const waText = `Hello, I am interested in ${item.name} (#AMAR-${item.id}). Please share more details.`;
            dom.modalInquireBtn.href = `https://wa.me/917050628922?text=${encodeURIComponent(waText)}`;

            dom.itemModal.classList.add('visible');
        }

        window.updateModalImage = function (el, src) {
            dom.modalImg.src = src;
            // Update active state of thumbnails
            document.querySelectorAll('#modal-thumbnails > div').forEach(div => div.classList.replace('border-gold', 'border-transparent'));
            el.classList.replace('border-transparent', 'border-gold');
        };

        function hideItemDetail() { dom.itemModal.classList.remove('visible'); }

        function showLightbox(src) {
            dom.lightboxImg.src = src;
            dom.lightbox.classList.add('visible');
        }

        function hideLightbox() { dom.lightbox.classList.remove('visible'); }

        function showPage(pageId) {
            dom.pages.forEach(p => p.classList.toggle('active', p.id === `page-${pageId}`));
            document.querySelectorAll('.nav-link').forEach(l => {
                const link = l.closest('a');
                if (link) {
                    link.classList.toggle('active', link.hash === `#${pageId}`);
                }
            });
            window.scrollTo(0, 0);
            initAnimations();
        }

        function initAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('is-visible');
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
            document.querySelectorAll('.get-directions-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    window.open('https://www.google.com/maps/dir//Amar+Jewellers+Gali+No.1+Sonar+Toli+Siwan+Bihar+841226', '_blank');
                });
            });
        }

        function initMobileMenu() {
            dom.mobileToggle.addEventListener('click', () => dom.mobileMenu.classList.toggle('hidden'));
            dom.mobileMenu.querySelectorAll('.page-link').forEach(link => link.addEventListener('click', () => dom.mobileMenu.classList.add('hidden')));
        }

        function setupEventListeners() {
            dom.navLinks.forEach(link => link.addEventListener('click', e => {
                e.preventDefault();
                const pageId = link.hash.substring(1);
                const filter = link.dataset.filter;

                showPage(pageId);

                if (pageId === 'collections' && filter) {
                    setTimeout(() => {
                        const filterButtons = dom.filtersContainer.querySelectorAll('.filter-btn');
                        filterButtons.forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.filter === filter);
                        });
                        renderCollections(filter);
                    }, 100);
                }
            }));
            dom.modalCloseBtn.addEventListener('click', hideItemDetail);
            dom.itemModal.addEventListener('click', e => { if (e.target === dom.itemModal) hideItemDetail(); });
            dom.lightbox.addEventListener('click', hideLightbox);
            dom.backToTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
            window.addEventListener('scroll', () => {
                dom.header.style.backgroundColor = window.scrollY > 50 ? 'rgba(10, 10, 10, 0.8)' : 'transparent';
                dom.header.style.backdropFilter = window.scrollY > 50 ? 'blur(10px)' : 'none';
                dom.backToTop.style.display = window.scrollY > 300 ? 'flex' : 'none';
            });
            dom.reviewForm.addEventListener('submit', async e => {
                e.preventDefault();
                dom.reviewResult.textContent = 'Submitting...';
                const formData = new FormData(dom.reviewForm);
                try {
                    await addDoc(collection(db, REVIEWS_PATH), {
                        name: formData.get('name'), text: formData.get('text'),
                        rating: parseInt(formData.get('rating') || '5'), timestamp: serverTimestamp()
                    });
                    dom.reviewResult.textContent = "Thank you!";
                    dom.reviewForm.reset();
                    setTimeout(() => dom.reviewResult.textContent = '', 3000);
                } catch (err) {
                    console.error("Failed to submit review:", err);
                    dom.reviewResult.textContent = "Failed to submit.";
                }
            });
        }

        (async function init() {
            document.getElementById('year').textContent = new Date().getFullYear();
            lucide.createIcons();
            initMobileMenu();
            initTheme();
            setupEventListeners();
            await loadInventory();
            // renderCollections(); // Handled in loadInventory
            // setupFilters();      // Handled in loadInventory
            // renderGallery();     // Handled in loadInventory
            initReviewsListener();
            showPage(window.location.hash ? window.location.hash.substring(1) : 'home');
            dom.preloader.style.opacity = '0';
            setTimeout(() => dom.preloader.style.display = 'none', 500);
        })();

        function initTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');

            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcons(savedTheme);

            const toggleHandler = () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeIcons(newTheme);
            };

            if (themeToggle) themeToggle.addEventListener('click', toggleHandler);
            if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleHandler);
        }

        function updateThemeIcons(theme) {
            const suns = document.querySelectorAll('.dark-icon');
            const moons = document.querySelectorAll('.light-icon');

            if (theme === 'light') {
                suns.forEach(el => el.classList.remove('hidden'));
                moons.forEach(el => el.classList.add('hidden'));
            } else {
                suns.forEach(el => el.classList.add('hidden'));
                moons.forEach(el => el.classList.remove('hidden'));
            }
        }

        const directionsBtn = document.getElementById('get-directions-btn');
        const storeLat = 26.2190221; // Amar Jewellers latitude
        const storeLng = 84.357408;  // Amar Jewellers longitude

        directionsBtn.addEventListener('click', () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        const userLat = position.coords.latitude;
                        const userLng = position.coords.longitude;
                        const directionsUrl = `https://www.google.com/maps/dir/?api=1&origin=${userLat},${userLng}&destination=${storeLat},${storeLng}&travelmode=driving`;
                        window.open(directionsUrl, '_blank');
                    },
                    error => {
                        alert('Unable to get your location. Please allow location access and try again.');
                        console.error(error);
                    }
                );
            } else {
                alert('Geolocation is not supported by your browser.');
            }
        });

    </script>

    <button id="install-btn"
        style="display:none;position:fixed;bottom:80px;right:20px;background:#d4af37;color:#fff;border:none;padding:12px 20px;border-radius:50px;cursor:pointer;z-index:1000;">Install
        App</button>

    <script>
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-btn').style.display = 'inline-block';
        });

        document.getElementById('install-btn').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const choice = await deferredPrompt.userChoice;
                console.log(choice.outcome);
                deferredPrompt = null;
                document.getElementById('install-btn').style.display = 'none';
            }
        });
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(() => console.log('Service Worker registered'))
                .catch(err => console.log('SW failed:', err));
        }
    </script>

</body>

</html>